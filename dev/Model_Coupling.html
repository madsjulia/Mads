<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Model Coupling · Mads</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://madsjulia.github.io/Mads.jl/Model_Coupling.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="index.html"><img src="assets/logo.png" alt="Mads logo"/></a><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">MADS</a></li><li><a class="tocitem" href="Getting_Started.html">Getting Started</a></li><li><a class="tocitem" href="Examples/Examples.html">Example Problems</a></li><li><a class="tocitem" href="Examples/model_diagnostics/model_diagnostics.html">Model Diagnostics</a></li><li><a class="tocitem" href="Examples/model_inversion_contamination/model_inversion_contamination.html">Model Calibration</a></li><li><a class="tocitem" href="Examples/ode/ode.html">Sensitivity Analysis</a></li><li><a class="tocitem" href="Examples/bayesian_sampling/bayesian_sampling.html">Uncertainty Quantification</a></li><li><a class="tocitem" href="Examples/infogap/infogap.html">Decision Analysis</a></li><li><a class="tocitem" href="Examples/blind_source_separation/blind_source_separation.html">Blind Source Separation</a></li><li><a class="tocitem" href="Examples/contamination/contamination.html">Contaminant Transport</a></li><li><a class="tocitem" href="Examples/contaminant_source_identification/contaminant_source_identification.html">Contaminant Source Identification</a></li><li><a class="tocitem" href="Examples/bigdt/source_termination/source_termination.html">Contaminant Source Remediation</a></li><li class="is-active"><a class="tocitem" href="Model_Coupling.html">Model Coupling</a><ul class="internal"><li><a class="tocitem" href="#Options-for-writing-model-inputs:"><span>Options for writing model inputs:</span></a></li><li><a class="tocitem" href="#Options-for-reading-model-outputs:"><span>Options for reading model outputs:</span></a></li></ul></li><li><a class="tocitem" href="Notebooks.html">Notebooks</a></li><li><a class="tocitem" href="Modules.html">Modules</a></li><li><a class="tocitem" href="Testing.html">Testing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="Model_Coupling.html">Model Coupling</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="Model_Coupling.html">Model Coupling</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/madsjulia/Mads.jl/blob/master/docs/src/Model_Coupling.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Model-Coupling"><a class="docs-heading-anchor" href="#Model-Coupling">Model Coupling</a><a id="Model-Coupling-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Coupling" title="Permalink"></a></h1><p>MADS can be coupled with any internal or external model or simulator.</p><p>The model coupling is defined in the MADS problem dictionary.</p><p>The expectation is that for a given set of model inputs, the model will produce a model output that will be provided back to MADS.</p><p>The keywords in the MADS problem dictionary that can be used to define the model coupling are:</p><ul><li><code>Model</code>: execute a Julia function defined in an input Julia file. The function that should accept a <code>parameter</code> dictionary with all the model parameters as an input argument and should return an <code>observation</code> dictionary with all the model predicted observations. MADS will execute the first function defined in the file.</li><li><code>MADS model</code>: create a Julia function based on an input Julia file. The input file should contain a function that accepts as an argument the MADS problem dictionary. MADS will execute the first function defined in the file. This function should create a Julia function that will accept a <code>parameter</code> dictionary with all the model parameters as an input argument and will return an <code>observation</code> dictionary with all the model predicted observations.</li><li><code>Julia model</code>: execute an internal Julia function that accepts a <code>parameter</code> dictionary with all the model parameters as an input argument and will return an <code>observation</code> dictionary with all the model predicted observations.</li><li><code>Command</code>: execute an external OS command or script that will execute an external model.</li><li><code>Julia command</code>: execute a Julia script that will execute an external model. The Julia script is defined in an input Julia file. The input file should contain a function that accepts a <code>parameter</code> dictionary with all the model parameters as an input argument. MADS will execute the first function defined in the file. The Julia script should be capable to (1) execute the model (making a system call of an external model), (2) parse the model outputs, (3) return an <code>observation</code> dictionary with model predictions.</li></ul><p>Both <code>Command</code> and <code>Julia command</code> can use different approaches to pass model parameters to the external model.</p><p>Only <code>Command</code> uses different approaches to get back the model outputs. The script defined under <code>Julia command</code> parses the model outputs using Julia.</p><p>Both <code>Command</code> and <code>Julia command</code> can use different approaches to pass model parameters to the external model.</p><p>Only <code>Command</code> uses different approaches to get back the model outputs.</p><p>The script defined under <code>Julia command</code> parses the model outputs using Julia.</p><p>The available options for writing model inputs and reading model outputs are as follows.</p><h2 id="Options-for-writing-model-inputs:"><a class="docs-heading-anchor" href="#Options-for-writing-model-inputs:">Options for writing model inputs:</a><a id="Options-for-writing-model-inputs:-1"></a><a class="docs-heading-anchor-permalink" href="#Options-for-writing-model-inputs:" title="Permalink"></a></h2><ul><li><code>Templates</code> : template files for writing model input files as defined <a href="https://madsc.lanl.gov/index.html#manual">here</a></li><li><code>ASCIIParameters</code> : model parameters written in a ASCII file</li><li><code>JLDParameters</code> : model parameters written in a JLD file</li><li><code>JLD2Parameters</code> : model parameters written in a JLD2 file</li><li><code>YAMLParameters</code> : model parameters written in a YAML file</li><li><code>JSONParameters</code> : model parameters written in a JSON file</li></ul><h2 id="Options-for-reading-model-outputs:"><a class="docs-heading-anchor" href="#Options-for-reading-model-outputs:">Options for reading model outputs:</a><a id="Options-for-reading-model-outputs:-1"></a><a class="docs-heading-anchor-permalink" href="#Options-for-reading-model-outputs:" title="Permalink"></a></h2><ul><li><code>Instructions</code> : instruction files for reading model output files as defined <a href="https://madsc.lanl.gov/index.html#manual">here</a></li><li><code>ASCIIPredictions</code> : model predictions read from a ASCII file</li><li><code>JLDPredictions</code> : model predictions read from a JLD file</li><li><code>JLD2Predictions</code> : model predictions read from a JLD2 file</li><li><code>YAMLPredictions</code> : model predictions read from a YAML file</li><li><code>JSONPredictions</code> : model predictions read from a JSON file</li></ul></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="Examples/bigdt/source_termination/source_termination.html">« Contaminant Source Remediation</a><a class="docs-footer-nextpage" href="Notebooks.html">Notebooks »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Friday 26 May 2023 09:49">Friday 26 May 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
